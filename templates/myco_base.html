<!DOCTYPE html>

<html lang="en-us">

<head>
    
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>mycospace | B.L.U. Thumb Mycology</title>

</head>

<body>

<style>

    body {
        display: flex;
        flex-direction: column;
        background-color: rgb(102, 153, 255);
    }

    .top-container {
        display: flex;
        flex-direction: row;
        justify-content: flex-start;
        align-items: center;
        background-color: white;
        padding: 5px;
        border-radius: 20px;
        border: 10px solid black;
        box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
    }

    .logo_avatar {
        display: flex;
        align-items: flex-start;
    }

    .mycospace_logo {
        display: flex;
        justify-content: left;
        align-items: left;
        margin: .5px;
        border-radius: 5%;
    }

    .mycospace_logo img {
        width: 7vw; 
        height: auto;
    }

    .title {
        color: black;
        font-weight: bold;
        font-family: 'Arial Narrow Bold', sans-serif;
    }

    .search_menu {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        margin-left: auto;
        margin-right: auto;
    }

    .search-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      margin-top: .00005%
    }

    .search_bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: white;
      padding: 10px;
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
    }

    .search_bar form {
      display: flex;
      align-items: center;
    }

    .search_bar input[type="text"], 
    .search_bar button {
      margin-left: 5px;
      background-color: white;
      color: black;
      border: none;
    }

    .search_bar input[type="text"] {
      padding: 5px;
      border-radius: 20px;
    }

    .search_bar button {
      padding: 5px 10px;
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
    }

    #brought_by_text {
        color: black;         
        font-style: italic;    
        font-weight: normal;   
        font-size: 10px;       
        margin-top: 2%; 
        font-family: Helvetica;     
    }

    .logo {
      display: flex;
      flex-direction: column;
      justify-content: flex-end;
      margin-left: auto;
      margin-top: auto;
    }

    .logo img {
        width: 5vw; 
        height: auto;
    }

    .avatar-container {
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      align-items: left;
      margin-top: 5%;
    }

    .avatar-container img {
        padding: 5px;
        width: 10vw; 
        height: auto;
        border-radius: 20px;
        border: 10px solid black;
        box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
    }

    .greeting {
        display: flex;
        color: gray;         
        font-style: normal;
        font-weight: bold;   
        font-size: medium;
        font-family: Tahoma;     
        padding-left: 2%;
        margin-top: 14%;
    }

    .menu {
        display: flex;
        justify-content: space-evenly;
        text-decoration:underline;
        color: black;
        font-family:monospace;
        font-weight: bold;
        font-size: 1.4em;
        margin-top: 60%;
    }

    .menu a {
        color: black !important;
    }

    .hamburger-menu {
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 30px;
      height: 20px;
      cursor: pointer;
      margin-right: 10px;
      position: absolute;
      top: 45px;
      right: 35px;
    }
  
    .bar {
      width: 100%;
      height: 2px;
      margin: 2px 0;
      background-color: white;
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
    }
  
    .hamburger-menu-container {
      display: none;
      position: absolute;
      top: 45px;
      right: 10px;
      background-color: rgb(102, 153, 255);
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5);
      z-index: 1;
      overflow: hidden;
      transition: all .3s ease;
      max-width: 93%;
      margin-right: 4.5%;
      top: 2vh;
    }

    .hamburger-menu-container:hover {
      width: 95%;
    }

    .menu-items{
      display: flex;
      justify-content: space-evenly;
      align-items: center;
      list-style: none; 
      width: 100%;
    }

    .menu-items li {
      margin-bottom: 10px;
    }

    .menu-items li a {
      display: flex;
      text-decoration:underline;
      color: white;
      font-family:monospace;
      font-weight: bold;
      font-size: 1.4em;
    }

    .menu-items li a:hover {
      color: black;
    }
   
    .hamburger-menu-container:hover .menu-items li {
      opacity: 1;
      transform: translateX(0);
    }

    .menu-container {
        display: none;
        position: absolute;
        top: 60px; 
        right: 0;
        background-color: rgb(102, 153, 255);
        border-radius: 20px;
        border: 10px solid black;
        box-shadow: 0 0 10px rgba(0, 0, 0, .5);
        z-index: 2;
        padding: 10px;
    }

    .menu-container a {
        display: block;
        text-decoration: none;
        color: white;
        font-family: monospace;
        font-weight: bold;
        font-size: 1.4em;
        margin-bottom: 10px;
    }

    .pop_menu-container {
      display: none;
      background-color: rgb(102, 153, 255);
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5);
      z-index: 1;
      overflow: hidden;
      transition: all .3s ease;
      width: 30%;
      height: auto;
      padding: 20px 0;
      margin-top: .05px;
      text-align: center;
    }

    .pop_menu-container li {
        list-style-type: none;
        text-align: center;
        margin-bottom: 10px;
    }

    
    .pop_menu-container li a {
        display: block;
        text-decoration: none;
        color: white;
        font-family: monospace;
        font-weight: bold;
        font-size: 1.5em;
        margin-bottom: 8px;
        padding: 8px 16px;
        border-radius: 10px;
        width: auto;
        text-align: center;
        background-color: rgba(255, 255, 255, 0.1); 
    }

    .pop_menu-container li a:hover {
        color: black; /* Change color on hover if needed */
        background-color: rgba(255, 255, 255, 0.3); /* Change background color on hover for better feedback */
    }

    .pop_menu-container:hover {
      width: 100%;
    }

    .pop_notifications_items li a:hover,
    .pop_create_items li a:hover, .pop_browse_items li a:hover {
        color: black; /* Change color on hover if needed */
    }

    .pop_menu-container li:not(:last-child) {
        margin-bottom: 20px; /* Margin between list items, except the last one */
    }

    .main-content {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      background-color: white;
      padding: 5px;
      border-radius: 20px;
      border: 10px solid black;
      box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
      font-family: Verdana, Geneva, Tahoma, sans-serif;
      margin-top: 5px;
    }

</style>

<div class="top-container">
    <div class="logo-and-avatar">
        <div class="mycospace_logo">
            <img src="/media/images/mycospace_logo.png" alt="mycospace logo">
            <h2 class="title">mycospace</h2>
        </div>
        <div class="avatar-container">
            {% if user_has_avatar %}
                <img src="{{ user_avatar_url }}" alt="Your chosen avatar">
            {% else %}
                <img src="/media/avatars/default_avatar.jpg" alt="Default avatar">
            {% endif %}
            <div class="greeting">
                <p> Greetings {{ user.username }}</p>
            </div>
        </div>
    </div>
    <div class="search_menu">
        <div class="search-container">
            <div class="search_bar">
                <form action="/search/" method="GET">
                  <input type="text" name="query" placeholder="Search...">
                  <button type="submit">Search</button>
                </form>
            </div>
        </div>
        <div class="menu" onmouseenter="toggleMenu('pop_menu-container')" onmouseover="toggleMenu('pop_menu-container')" onmouseout="toggleMenu('pop_menu-container')" id="menuContainer">
            |<a href="#">Notifications</a>
            |<a href="#">Create</a>
            |<a href="#">Browse</a>|
        </div> 
    </div>
    <ul class="pop_menu-container">
           <li><a href="#">Messages</a></li>
            <li><a href="#">Active Posts</a></li>
    </ul>
    <ul class="pop_menu-container">
            <li><a href="#">Message</a></li>
            <li><a href="#">Grow Log Entry</a></li>
            <li><a href="#">Topic</a></li>
    </ul>
    <ul class="pop_menu-container">
            <li><a href="#">Forum</a></li>
            <li><a href="#">Recent Entries</a></li>
    </ul>
    <div class="logo">
        <p id="brought_by_text">Brought to you by...</p>
        <img src="/media/images/blu_thumb_mycology_logo.jpg" alt="B.L.U. Thumb Mycology logo">
    </div>
    <div class="hamburger-menu" onmouseenter="toggleHamMenu()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
        </div>
        <div class="hamburger-menu-container" id="hamMenuContainer">
        <ul class="menu-items">
            <li><a href="#">Archives</a></li>
            <li><a href="#">mycospace</a></li>
            <li><a href="#">Cultivator Channel</a></li>
            <li><a href="#">Shop</a></li>
        </ul> 
        </div> 
</div>
</div>


<div class="main-content"> </div>

</body>

</html>

<script>

function toggleHamMenu() {
      const hamMenuContainer = document.querySelector('.hamburger-menu-container');
      const hamburgerBars = document.querySelectorAll('.bar');

      hamburgerBars.forEach(bar => {
        bar.addEventListener('mouseenter', function() {
          hamMenuContainer.style.width = '95%';
          hamMenuContainer.style.display = 'flex';
          hamMenuContainer.style.right = '10px';
          hamburgerBars.forEach(bar => {
            bar.style.right = '210px';
          });
        });
      });

      hamMenuContainer.addEventListener('mouseleave', function() {
        hamMenuContainer.style.width = '0px';
        hamMenuContainer.style.display = 'none';
        hamMenuContainer.style.right = '10px';
        hamburgerBars.forEach(bar => {
          bar.style.right = '35px';
        });
      });
    }
    function toggleMenu() {
  const menuLinks = document.querySelectorAll('.menu a');
  const popMenuContainer = document.querySelector('.pop_menu-container');
  let timeout;

  // Function to set items for pop_menu-container based on hovered menu item
  function setMenuItems(items) {
    // Clear existing items
    popMenuContainer.innerHTML = '';
    
    // Create new list items and append to popMenuContainer
    items.forEach(item => {
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#';  // Add appropriate href
      a.textContent = item;
      li.appendChild(a);
      popMenuContainer.appendChild(li);
      li.addEventListener('mouseenter', function() {
        li.classList.add('hovered-item');
      });
      li.addEventListener('mouseleave', function() {
        li.classList.remove('hovered-item');
      });
    });
  }

  menuLinks.forEach(link => {
    link.addEventListener('mouseenter', function(event) {
      clearTimeout(timeout);

      // Determine items based on hovered link text
      let items = [];
      switch (link.textContent.trim()) {
        case 'Notifications':
          items = ['Messages', 'Active Posts'];
          break;
        case 'Create':
          items = ['Messages', 'Topic', 'Grow Log Entry'];
          break;
        case 'Browse':
          items = ['Forum', 'Recent Entries'];
          break;
        default:
          break;
      }

      // Set items for pop_menu-container
      setMenuItems(items);

      // Get position and dimensions of the current link and pop_menu-container
      const rect = link.getBoundingClientRect();
      const menuItemWidth = rect.width;
      const popMenuContainerWidth = popMenuContainer.offsetWidth;
      const topPosition = rect.top - popMenuContainer.offsetHeight - 100; // Subtract container height and some margin
      const leftPosition = rect.left + (menuItemWidth) - 275; // Center horizontally

      // Set position and display the pop_menu-container
      popMenuContainer.style.position = 'fixed';
      popMenuContainer.style.top = `${topPosition}px`; 
      popMenuContainer.style.left = `${leftPosition}px`; // Center horizontally

      // Display the pop_menu-container after a slight delay
      timeout = setTimeout(() => {
        popMenuContainer.style.display = 'flex';
      }, 200);
    });

    // Hide pop_menu-container on leaving the link
    link.addEventListener('mouseleave', function() {
      clearTimeout(timeout);
      popMenuContainer.style.display = 'none';
    });
  });

  // Hide pop_menu-container when the mouse leaves it
  popMenuContainer.addEventListener('mouseleave', function() {
    popMenuContainer.style.display = 'none';
  });
}
</script>