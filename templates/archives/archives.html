{% comment %} <!-- Commenting out the extensions for now -->
{% extends 'base.html' %}
{% block title %}The Cultivator's Archives | B.L.U. Thumb Mycology{% endblock %}
{% block header %}<!-- Your specific header content for archives.html goes here -->{% endblock %}
{% endcomment %}

<!DOCTYPE html>

<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>The Cultivator's Archives | B.L.U. Thumb Mycology</title>

</head>

<style>
   
.top-container {
  display: flex;
  flex-direction: row;
  justify-content: space-evenly;
  align-items: center;
  background-color: white;
  padding: 5px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba (0, 0, 0, .5); 
}

.genus-container {
  display: flex; /* Displays the items in a row. */
  flex-direction: row; /* Defines the layout's orientation. */
  justify-content: space-evenly; /* assign even spacing to both ends of the flexbox and between its items. */
  align-items: center; /* Centers the items vertically */
  padding: 10px;
  position: relative;
  overflow: hidden;
  flex-wrap: nowrap;
}

.genus-item {
  text-align: center; 
  margin: 0 5px; 
  display: flex;
  flex-direction: column;
  align-items: center;
  background-color: white;
  padding: 8px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
  animation: none;
}

.genus-container.slide-left .genus-item {
  animation: slideLeftAnimation 5s linear infinite;
}

.genus-container.slide-right .genus-item {
  animation: slideRightAnimation 5s linear infinite;
}

@keyframes slideLeftAnimation {
  0% {
    transform: translateX(0%);
  }

  100% {
    transform: translateX(-100%);
  }
}

@keyframes slideRightAnimation {
  0% {
    transform: translateX(0%);
  }

  100% {
    transform: translateX(100%);
  }
}

.genus-item img {
  width: 100px; 
  height: 100px; 
}

.genus-item span {
  font-family: Courier, monospace;
  font-size: small;
  font-style: italic;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  color: black;
}

.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 30px;
  height: 30px;
  background-color: black;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 50%;
  cursor: pointer;
  font-size: 20px;
  transition: background-color 0.3s ease;
  z-index: 2;
}

.arrow:hover {
  background-color: #333;
} 

.arrow-left {
  left: 10px;
}

.arrow-right {
  right: 10px;
}

body {
      background-color: rgb(102, 153, 255);
}

.logo-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin: .5px;
  border-radius: 5%;
}

.search-bar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-left: 10px;
  background-color: white;
  padding: 10px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
}

.search-container form {
  display: flex;
  align-items: center;
}

.search-container input[type="text"], 
.search-container button {
  margin-left: 5px;
  background-color: white;
  color: black;
  border: none;
}

.search-container input[type="text"] {
  padding: 5px;
  border-radius: 20px;
}

.search-container button {
  padding: 5px 10px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
}

.title {
  color: black;
  font-weight: bold;
  font-family: 'Arial Narrow Bold', sans-serif;
  justify-content: space-between;
  text-align: center;
  background-color: white;
  padding: 10px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
  margin-bottom: 10px;
}

.title_search-container{
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  margin: auto;
  margin-left: 275px;
}

.hamburger-menu {
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 30px;
  height: 20px;
  cursor: pointer;
  margin-right: 10px;
  position: absolute;
  top: 45px;
  right: 35px;
}

.bar {
  width: 100%;
  height: 2px;
  margin: 2px 0;
  background-color: white;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
}

.hamburger-menu-container {
  display: none;
  position: absolute;
  top: 45px;
  right: 10px;
  background-color: rgb(102, 153, 255);
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5);
  z-index: 1;
  overflow: hidden;
  transition: all .3s ease;
  max-width: 93%;
  margin-right: 4.5%;
  top: 2vh;
}

.menu-items{
  display: flex;
  justify-content: space-evenly;
  align-items: center;
  list-style: none; 
  width: 100%;
}

.menu-items li {
  margin-bottom: 10px;
}

.menu-items li a {
  display: flex;
  text-decoration:underline;
  color: white;
  font-family:monospace;
  font-weight: bold;
  font-size: 1.4em;
}

.menu-items li a:hover {
  color: black;
}

.hamburger-menu-container:hover {
  width: 95%;
}


.hamburger-menu-container:hover .menu-list li {
  opacity: 1;
  transform: translateX(0);
}

.content-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  background-color: white;
  padding: 5px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
  font-family: Verdana, Geneva, Tahoma, sans-serif;
}

.content-container p {
  padding: 5%;
}
  
.login-container {
  width: 30%;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-left: auto;
  margin-top: auto;
  background-color: white;
  justify-content: flex-end;
}

#login-error-container {
  width: 100%;
  height: 100%;
  display: flex;
  justify-items: center;
  align-items: center;
}

#login-error-msg {
  width: 100%;
  height: 100%;
  text-align: center;
  margin: 0;
  padding: 5px;
  font-size: 12px;
  font-weight: bold;
  color: #8a0000 ;
  border: 1px solid #8a0000;
  background-color: #e58f8f;
  opacity: 0;
}

#login-error-msg-next-ln {
  display: block;
}

#login-form {
  align-self: flex-end;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  margin-top: 10px;
}

.login-form-field::placeholder {
  color: #3a3a3a;
}

.login-form-field {
  background-color: white;
  padding: 5px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba (0, 0, 0, .5); 
  width: 200px;
  margin: 1%;
}

.login-register-button {
  font-weight: bold;
  cursor: pointer;
  background-color: white;
  padding: 5px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
  margin-left: 10px;
  flex: 1;
  margin-top: 10px;
  width: 100%;
}

.login-register-button[href*='register'] {
  font-weight: bold;
  cursor: pointer;
  background-color: white;
  padding: 5px;
  border-radius: 20px;
  border: 10px solid black;
  box-shadow: 0 0 10px rgba(0, 0, 0, .5); 
  margin-left: 10px;
  flex: 1;
  margin-top: 10px;
  width: 100%;
}

#login-form-submit {
  margin-bottom: 5px;
}

.button-container {
  display: flex;
  flex-direction: row;
  align-items: center;
  align-self: center;
}

.login-register-container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-direction: row;
  margin-top: 4%;
}

.content-container img {
  max-width: 20%;
  height: auto;
  margin-right: 10%; 
}

</style>

<body>
{% if messages %}
<div class="messages">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %}
</div>
{% endif %}
<div class="top-container">
  <div class="logo-container">
    <img src="/media/images/blu_thumb_mycology_logo.jpg" alt="B.L.U. Thumb Mycology Logo">
  </div>
  <div class="title_search-container">
    <h1 class="title">The Cultivator's Archives</h1>
    <div class="search-bar">
      <form action="/search/" method="GET">
        <input type="text" name="query" placeholder="Search...">
        <button type="submit">Search</button>
      </form>
    </div>
  </div>
  <div class="hamburger-menu" onmouseenter="toggleMenu()">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
  </div> 
  <div class="hamburger-menu-container" id="menuContainer">
    <ul class="menu-items">
      <li><a href="#">Archives</a></li>
      <li><a href="#">mycospace</a></li>
      <li><a href="#">Cultivator Channel</a></li>
      <li><a href="#">Shop</a></li>
    </ul> 
  </div>
  <div class="login-register-container">
    <div class="login-container">
      <div id="login-error-container">
        <p id="login-error-msg">E-mail and/or password<span id="login-error-msg-next-ln">are incorrect!</span></p>
      </div>
      <form method="POST" action="{% url 'user_login' %}">
        {% csrf_token %}
        <input type="text" name="username" id="userfield-field" class="login-form-field" placeholder="E-mail">
        <input type="password" name="password" id="password-field" class="login-form-field" placeholder="Password">
        <div class="button-container">
            <button class="login-register-button" type="submit">Log-In</button>
            <a href="{% url 'register' %}" class="login-register-button">Register</a>
        </div>
    </form>
    </div>
  </div>
</div><div class="genus-container">
  {% for genus in genus_list %}
      <div class="genus-item">
          <img src="{{ genus.image.url }}" alt="{{ genus.genus_name }}">
          <span>{{ genus.genus_name }}</span>
      </div>
  {% endfor %}
</div>  

<div class="arrow arrow-left" onmouseenter="startScroll('left')" onmouseleave="stopScroll()">&lt;</div>  
<div class="arrow arrow-right" onmouseenter="startScroll('right')" onmouseleave="stopScroll()">&gt;</div>
<div class="content-container">
  <img src="/media/images/myco_plate.jpg" alt="A petri dish of mycelium.">
  <h1><br>Welcome to B.L.U. Thumb Mycology!</h1>
  <p> <br>You have found a place that values research, development, and above all, <em>sharing</em>. 
  This is a community for cultivators, researchers, scientists, and enthusists alike to gather in the name of Mycology.
  Help yourself to the archives - this is a continuously evolving space where you can find resources and information on mushroom cultivation.
Explore a vast array of species and discover their optimal enviroment and other parameters pertaining to their ideal growing conditions.
Consider becoming a member and contributing your knowledge, experience, or simply your <em>desire to learn</em>. 
<br>
<br>
We are built on three principles:
<br>
<br>(B)enevolence
<br>(L)ove
<br>(U)nity
</div>

</body>

</html>

<script>

  let isScrolling = false;
  let scrollAmount = 5; // Adjust the scroll amount as needed
  let scrollSpeed = 40; // Adjust the scroll speed (interval) as needed

  function startScroll(direction) {
    if (isScrolling) return;
    isScrolling = true;
    const genusContainer = document.querySelector('.genus-container');
    clearInterval(scrollInterval);

    if (direction === 'left') {
      scrollInterval = setInterval(() => {
        genusContainer.scrollLeft -= scrollAmount;
        if (genusContainer.scrollLeft <= 0) {
          genusContainer.scrollLeft = genusContainer.scrollWidth;
        }
      }, scrollSpeed);
    } else if (direction === 'right') {
      scrollInterval = setInterval(() => {
        genusContainer.scrollLeft += scrollAmount;
        if (genusContainer.scrollLeft >= genusContainer.scrollWidth - genusContainer.clientWidth) {
          genusContainer.scrollLeft = 0;
        }
      }, scrollSpeed);
    }
  }

  const arrows = document.querySelectorAll('.arrow');
  arrows.forEach(arrow => {
    arrow.addEventListener('mouseenter', function() {
      const genusContainer = document.querySelector('.genus-container');
      if (arrow.classList.contains('arrow-left')) {
        genusContainer.classList.add('slide-left');
        startScroll('left');
      } else if (arrow.classList.contains('arrow-right')) {
        genusContainer.classList.add('slide-right');
        startScroll('right');
      }
    });
    arrow.addEventListener('mouseleave', function() {
      const genusContainer = document.querySelector('.genus-container');
      genusContainer.classList.remove('slide-left', 'slide-right');
      stopScroll();
    });
  });
  
  function toggleMenu() {
    const menuContainer = document.querySelector('.hamburger-menu-container');
    const hamburgerBars = document.querySelectorAll('.bar');

    hamburgerBars.forEach(bar => {
      bar.addEventListener('mouseenter', function() {
        menuContainer.style.width = '95%';
        menuContainer.style.display = 'flex';
        menuContainer.style.right = '10px';
        hamburgerBars.forEach(bar => {
          bar.style.right = '210px';
        });
      });
    });

    menuContainer.addEventListener('mouseleave', function() {
      menuContainer.style.width = '0px';
      menuContainer.style.display = 'none';
      menuContainer.style.right = '10px';
      hamburgerBars.forEach(bar => {
        bar.style.right = '35px';
      });
    });
  }
  const loginForm = document.getElementById("login-form");
  const loginButton = document.getElementById("login-form-submit");
  const loginErrorMsg = document.getElementById("login-error-msg");
  
  loginButton.addEventListener("click", (e) => {
    e.preventDefault();
    const username = loginForm.username.value;
    const password = loginForm.password.value;

    if (username === "user" && password === "web_dev") {
      alert("You have successfully loggin in.");
      location.reload();
    } else {
      loginErrorMsg.style.opacity = 1;
    }
  })
        
    


</script>